<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">

    <title>Operating rippled Servers - XRP Ledger Dev Portal</title>

    <!--[if lt IE 9]>
      <script src="/dist/js/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="/dist/js/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


    <!-- favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <!-- jQuery -->
    <script src="assets/vendor/jquery-1.11.1.min.js"></script>

    <!-- Custom Stylesheets. ripple.css includes bootstrap, font stuff -->
    <link href="assets/css/ripple.css" rel="stylesheet" />
    <link href="assets/css/devportal.css" rel="stylesheet" />

    <!-- Bootstrap JS -->
    <script src="assets/vendor/bootstrap.min.js"></script>

    <!-- fontawesome icons -->
    <link rel="stylesheet" href="assets/vendor/fontawesome/css/font-awesome.min.css" />


    <!-- syntax highlighting -->
    <link rel="stylesheet" href="assets/vendor/docco.min.css" />
    <script src="assets/vendor/highlight.min.js"></script>

    <!-- expandable code samples -->
    <script src="assets/js/expandcode.js"></script>
    <!-- multi-code selection tabs -->
    <script src="assets/js/multicodetab.js"></script>
    <script>
        $(document).ready(function() {
            $(".multicode").minitabs();
            hljs.initHighlighting();
            make_code_expandable();
        });
    </script>



</head>

<body class="xrp-ledger-dev-portal sidebar-primary">
  <header role="banner" class="banner navbar navbar-default navbar-fixed-top initial_header">
    <div class="container">
      <div class="navbar-header">
          <a href="index.html" class="navbar-brand"><img src="assets/img/dev-logo.png" class="logo" width="36" height="36" /><span class="brand-text">XRP Ledger Dev Portal</span></a>
      </div><!-- /.navbar-header -->
      <div class="nav">
            <ul class="breadcrumb">
              <li class="crumb-top"><a href="index.html" style="display: none;">&nbsp;</a></li>
              <li class="active crumb-category"><a href="tutorial-rippled-setup.html">The rippled Server</a></li>
              <li class="active crumb-current">Operating rippled Servers</li>
            </ul>
        <div class="draft-warning">DRAFT PAGE</div>
        <div class="github-edit-wrap">
          <a href="https://github.com/ripple/ripple-dev-portal/edit/master/content/tutorial-rippled-setup.md" target="_blank" class="github-edit">Edit on GitHub</a>
        </div><!-- /.github-edit -->
      </div><!-- /.nav -->

    </div><!-- /.container -->

  </header>


  <div class="wrap container" role="document" id="main_content_wrapper">
      <aside class="sidebar" role="complementary">

<div class="guide_toc">
  <div id="sidenav_accordion" class="panel-group" role="tablist" aria-multiselectable="true">
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_1">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_1" aria-expanded="true" aria-controls="sidenav_collapse_1">
            Introduction
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_1" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_1">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="concept-xrp-ledger-intro.html">XRP Ledger Introduction</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse1 -->

    </div><!-- /.panel -->
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_2">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_2" aria-expanded="true" aria-controls="sidenav_collapse_2">
            Technical Overview
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_2" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_2">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="concept-consensus.html">The XRP Ledger Consensus Process</a></li>
              <li><a href="concept-reaching-consensus.html">Reaching Consensus in the XRP Ledger</a></li>
              <li><a href="concept-accounts.html">XRP Ledger Accounts</a></li>
              <li><a href="concept-cryptographic-keys.html">Cryptographic Keys</a></li>
              <li><a href="concept-fees.html">Fees (Disambiguation)</a></li>
              <li><a href="concept-fee-voting.html">Fee Voting</a></li>
              <li><a href="concept-amendments.html">Amendments</a></li>
              <li><a href="reference-amendments.html">Known Amendments</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse2 -->

    </div><!-- /.panel -->
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_3">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_3" aria-expanded="true" aria-controls="sidenav_collapse_3">
            About XRP
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_3" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_3">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="concept-money.html">Money in the XRP Ledger</a></li>
              <li><a href="concept-reserves.html">Reserves</a></li>
              <li><a href="concept-transaction-cost.html">Transaction Cost</a></li>
              <li><a href="concept-partial-payments.html">Partial Payments</a></li>
              <li><a href="concept-escrow.html">Escrow</a></li>
              <li><a href="concept-depositauth.html">Deposit Authorization</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse3 -->

    </div><!-- /.panel -->
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_4">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_4" aria-expanded="true" aria-controls="sidenav_collapse_4">
            XRP Tasks
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_4" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_4">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="tutorial-rippleapi-beginners-guide.html">RippleAPI Beginners Guide</a></li>
              <li><a href="tutorial-reliable-transaction-submission.html">Reliable Transaction Submission</a></li>
              <li><a href="tutorial-multisign.html">How to Multi-Sign</a></li>
              <li><a href="tutorial-escrow.html">Escrow Tutorials</a></li>
              <li><a href="tutorial-paychan.html">Payment Channels Tutorial</a></li>
              <li><a href="tutorial-regular-keys.html">Working with a Regular Key Pair</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse4 -->

    </div><!-- /.panel -->
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_5">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_5" aria-expanded="true" aria-controls="sidenav_collapse_5">
            Issued Currencies
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_5" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_5">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="concept-freeze.html">Freezing Issued Currencies</a></li>
              <li><a href="concept-transfer-fees.html">Transfer Fees</a></li>
              <li><a href="concept-noripple.html">Understanding the NoRipple Flag</a></li>
              <li><a href="concept-authorized-trust-lines.html">Authorized Trust Lines</a></li>
              <li><a href="concept-paths.html">Paths</a></li>
              <li><a href="concept-demurrage.html">Demurrage</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse5 -->

    </div><!-- /.panel -->
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_6">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_6" aria-expanded="true" aria-controls="sidenav_collapse_6">
            Checks
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_6" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_6">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="concept-checks.html">Checks</a></li>
              <li><a href="tutorial-checks-send.html">How to Send a Check</a></li>
              <li><a href="tutorial-checks-lookup-by-sender.html">Look up Checks by sender address</a></li>
              <li><a href="tutorial-checks-lookup-by-recipient.html">Look up Checks by recipient address</a></li>
              <li><a href="tutorial-checks-cancel.html">Cancel a Check</a></li>
              <li><a href="tutorial-checks-cash-exact.html">Cash a Check for an exact amount</a></li>
              <li><a href="tutorial-checks-cash-flex.html">Cash a Check for a flexible amount</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse6 -->

    </div><!-- /.panel -->
    <div class="panel panel-default active">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_7">
        <h5 class="panel-title">
          <a  role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_7" aria-expanded="true" aria-controls="sidenav_collapse_7">
            The rippled Server
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_7" class="collapse in" role="tabpanel" aria-labelledby="sidenav_cat_head_7">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a class="active" href="#main_content_body">Operating rippled Servers</a></li>
              <li><a href="concept-stand-alone-mode.html">Stand-Alone Mode</a></li>
              <li><a href="concept-history-sharding.html">History Sharding</a></li>
              <li><a href="tutorial-build-run-rippled-ubuntu.html">Build and Run rippled on Ubuntu</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse7 -->

    </div><!-- /.panel -->
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_8">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_8" aria-expanded="true" aria-controls="sidenav_collapse_8">
            The Exchange Business Model
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_8" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_8">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="tutorial-listing-xrp.html">Listing XRP as an Exchange</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse8 -->

    </div><!-- /.panel -->
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_9">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_9" aria-expanded="true" aria-controls="sidenav_collapse_9">
            The Gateway Business Model
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_9" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_9">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="concept-issuing-and-operational-addresses.html">Issuing and Operational Addresses</a></li>
              <li><a href="tutorial-gateway-guide.html">Becoming an XRP Ledger Gateway</a></li>
              <li><a href="gb-2015-06.html">GB-2015-06: Corrections to Autobridging</a></li>
              <li><a href="gb-2015-05.html">GB-2015-05: Historical Ledger Query Migration</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse9 -->

    </div><!-- /.panel -->
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_10">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_10" aria-expanded="true" aria-controls="sidenav_collapse_10">
            Reference Material
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_10" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_10">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="reference-rippled.html">rippled</a></li>
              <li><a href="reference-currency.html">Currency Formats</a></li>
              <li><a href="reference-transaction-format.html">Transactions Overview</a></li>
              <li><a href="reference-ledger-format.html">XRP Ledger Data Format</a></li>
              <li><a href="reference-rippleapi.html">RippleAPI Reference</a></li>
              <li><a href="reference-data-api.html">Ripple Data API v2</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse10 -->

    </div><!-- /.panel -->
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_11">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_11" aria-expanded="true" aria-controls="sidenav_collapse_11">
            API Tools
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_11" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_11">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
              <li><a href="xrp-ledger-rpc-tool.html">RPC Tool</a></li>
              <li><a href="ripple-api-tool.html">WebSocket API Tool</a></li>
              <li><a href="data-api-v2-tool.html">Data API v2 Tool</a></li>
              <li><a href="ripple-txt-validator.html">ripple.txt Validator</a></li>
              <li><a href="xrp-test-net-faucet.html">XRP Test Net Faucet</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapse11 -->

    </div><!-- /.panel -->

    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="sidenav_cat_head_ripple_resources">
        <h5 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" data-parent="#sidenav_accordion" href="#sidenav_collapse_ripple_resources" aria-expanded="true" aria-controls="sidenav_collapse_ripple_resources">
            Ripple Resources
          </a>
        </h5>
      </div><!-- /.panel-heading -->

      <div id="sidenav_collapse_ripple_resources" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_ripple_resources">
        <div class="panel-body">
          <ul class="sidebar_cat_pagelist">
            <li><a href="https://ripple.com/category/dev-blog/">Dev Blog</a></li>
            <li><a href="https://github.com/ripple/">Open Source on GitHub</a></li>
            <li><a href="https://ripple.com/">Corporate Website</a></li>
          </ul>
        </div><!-- /.panel-body -->
      </div><!-- /#sidenav_collapseripple_resources -->

    </div><!-- /.panel -->

  </div><!-- /#sidenav_accordion -->
</div><!-- /.guide_toc -->
      </aside>
      <main class="main" role="main" id="main_content_body">
    <h1 class="main-page-header">Operating rippled Servers</h1>

    <aside id="page-toc-wrapper" class="panel panel-default">
      <p class="in-this-doc panel-heading">In this document:</p>
      <ul class="dev_nav_sidebar panel-body" id="dactyl_toc_sidebar">
        <li class="level-1"><a href="#operating-rippled-servers">Operating rippled Servers</a></li>
<li class="level-2"><a href="#types-of-rippled-servers">Types of rippled Servers</a></li>
<li class="level-2"><a href="#reasons-to-run-a-stock-server">Reasons to Run a Stock Server</a></li>
<li class="level-2"><a href="#reasons-to-run-a-validator">Reasons to Run a Validator</a></li>
<li class="level-3"><a href="#properties-of-a-good-validator">Properties of a Good Validator</a></li>
<li class="level-1"><a href="#capacity-planning">Capacity Planning</a></li>
<li class="level-2"><a href="#configuration-settings">Configuration Settings</a></li>
<li class="level-3"><a href="#node-size">Node Size</a></li>
<li class="level-3"><a href="#node-db-type">Node DB Type</a></li>
<li class="level-3"><a href="#historical-data">Historical Data</a></li>
<li class="level-3"><a href="#log-level">Log Level</a></li>
<li class="level-2"><a href="#network-and-hardware">Network and Hardware</a></li>
<li class="level-3"><a href="#recommendation-1">Recommendation</a></li>
<li class="level-1"><a href="#installing-rippled">Installing rippled</a></li>
<li class="level-2"><a href="#minimum-system-requirements">Minimum System Requirements</a></li>
<li class="level-2"><a href="#installation-on-centosred-hat-with-yum">Installation on CentOS/Red Hat with yum</a></li>
<li class="level-2"><a href="#installation-on-ubuntu-with-alien">Installation on Ubuntu with alien</a></li>
<li class="level-2"><a href="#postinstall">Postinstall</a></li>
<li class="level-2"><a href="#updating-rippled">Updating rippled</a></li>
<li class="level-3"><a href="#automatic-update-on-centosred-hat">Automatic Update on CentOS/Red Hat</a></li>
<li class="level-3"><a href="#manual-update-on-centosred-hat">Manual Update on CentOS/Red Hat</a></li>
<li class="level-3"><a href="#manual-update-on-ubuntu">Manual Update on Ubuntu</a></li>
<li class="level-1"><a href="#running-a-validator">Running a Validator</a></li>
<li class="level-2"><a href="#validator-setup">Validator Setup</a></li>
<li class="level-2"><a href="#public-facing-server">Public-Facing Server</a></li>
<li class="level-2"><a href="#domain-verification">Domain Verification</a></li>
<li class="level-1"><a href="#additional-configuration">Additional Configuration</a></li>
<li class="level-2"><a href="#parallel-networks">Parallel Networks</a></li>
<li class="level-3"><a href="#parallel-networks-and-consensus">Parallel Networks and Consensus</a></li>
<li class="level-2"><a href="#clustering">Clustering</a></li>

      </ul>
    </aside>
    <div class='content no-1st-head'>
        <h1 id="operating-rippled-servers">Operating rippled Servers</h1>
<p>The core server of the XRP Ledger peer-to-peer network is <a href="reference-rippled.html"><code>rippled</code></a>. Anyone can run their own <code>rippled</code> server that follows the network and keeps a complete copy of the XRP Ledger. You can even have your server take part in the consensus process.</p>
<p>This page contains instructions for:</p>
<ul>
<li><a href="#capacity-planning">Capacity Planning for <code>rippled</code></a></li>
<li><a href="#installing-rippled">Installing <code>rippled</code></a></li>
<li><a href="#running-a-validator">Participating in the Consensus Process</a></li>
</ul>
<h2 id="types-of-rippled-servers">Types of rippled Servers</h2>
<p>The <code>rippled</code> server software can run in several modes depending on its configuration, including:</p>
<ul>
<li>Stock server - follows the network with a local copy of the ledger.</li>
<li>Validating server, or <em>validator</em> for short - participates in consensus.</li>
<li><code>rippled</code> server in stand-alone mode - for testing. Does not communicate to other <code>rippled</code> servers.</li>
</ul>
<p>You can also run the <code>rippled</code> executable as a client application for accessing <a href="reference-rippled.html"><code>rippled</code> APIs</a> locally. (Two instances of the same binary can run side-by-side in this case; one as a server, and the other running briefly as a client and then terminating.)</p>
<h2 id="reasons-to-run-a-stock-server">Reasons to Run a Stock Server</h2>
<p>There are lots of reasons you might want to run your own <code>rippled</code> server, but most of them can be summarized as: you can trust your own server, you have control over its workload, and you're not at the mercy of others to decide when and how you can access it. Of course, you must practice good network security to protect your server from malicious hackers.</p>
<p>You need to trust the <code>rippled</code> you use. If you connect to a malicious server, there are many ways that it can take advantage of you or cause you to lose money. For example:</p>
<ul>
<li>A malicious server could report that you were paid when no such payment was made.</li>
<li>It could selectively show or hide payment paths and currency exchange offers to guarantee its own profit while not providing you the best deal.</li>
<li>If you sent it your address's secret key, it could make arbitrary transactions on your behalf, and even transfer or destroy all the money your address holds.</li>
</ul>
<p>Additionally, running your own server gives you admin control over it, which allows you to run important admin-only and load-intensive commands. If you use a shared server, you have to worry about other users of the same server competing with you for the server's computing power. Many of the commands in the WebSocket API can put a lot of strain on the server, so <code>rippled</code> has the option to scale back its responses when it needs to. If you share a server with others, you may not always get the best results possible.</p>
<p>Finally, if you run a validating server, you can use a stock server as a proxy to the public network while keeping your validating server on a private subnet only accessible to the outside world through the stock server. This makes it more difficult to compromise the integrity of your validating server.</p>
<h2 id="reasons-to-run-a-validator">Reasons to Run a Validator</h2>
<p>The robustness of the XRP Ledger depends on an interconnected web of validators who each trust a few other validators <em>not to collude</em>. The more operators with different interests there are who run validators, the more certain each member of the network can be that it continues to run impartially. If you or your organization relies on the XRP Ledger, it is in your interest to contribute to the consensus process.</p>
<p>Not all <code>rippled</code> servers need to be validators: trusting more servers from the same operator does not offer better protection against collusion. An organization might run validators in multiple regions for redundancy in case of natural disasters and other emergencies.</p>
<p>If your organization runs a validating server, you may also run one or more stock servers, to balance the computing load of API access, or as a proxy between your validation server and the outside network.</p>
<h3 id="properties-of-a-good-validator">Properties of a Good Validator</h3>
<p>There are several properties that define a good validator. The more of these properties your server embodies, the more reason others have to include your server in their list of trusted validators:</p>
<ul>
<li><strong>Availability</strong>. An ideal validator should always be running, submitting validation votes for every proposed ledger.<ul>
<li>Strive for 100% uptime.</li>
</ul>
</li>
<li><strong>Agreement</strong>. A validator's votes should match the outcome of the consensus process as often as possible. To do otherwise could indicate that the validator's software is outdated, buggy, or intentionally biased.<ul>
<li>Always run the latest <code>rippled</code> release without modifications.</li>
</ul>
</li>
<li><strong>Timeliness</strong>. A validator's votes should arrive quickly, and not after a consensus round has already finished.<ul>
<li>A fast internet connection helps with this.</li>
</ul>
</li>
<li><strong>Identified</strong>. It should be clear who runs the validator. Ideally, a list of trusted validators should include validators operated by different owners in multiple legal jurisdictions and geographic areas, to reduce the chance that any localized events could interfere with the validator's impartial operation.<ul>
<li>Setting up <a href="#domain-verification">Domain Verification</a> is a good start.</li>
</ul>
</li>
</ul>
<p>At present, Ripple (the company) cannot recommend any validators aside from those in the default validator list. However, we are collecting data on other validators and building tools to report on their performance. For metrics on validators, see <a href="https://validators.ripple.com">validators.ripple.com</a>.</p>
<h1 id="capacity-planning">Capacity Planning</h1>
<p>This section describes some of the challenges related to scaling <code>rippled</code> servers for testing and production deployments. Additionally, it describes how hardware and configuration settings relate to those challenges. Finally, this section offers recommendations to assist you in properly setting up <code>rippled</code> to meet the goals for the use case of your deployment.</p>
<p>Even the most minimally functional <code>rippled</code> server must contain the most recently validated ledger versions to submit transactions to the network and verify the integrity of the XRP Ledger. Beyond these requirements, consider the following possible business needs:</p>
<ul>
<li>Handling ever-increasing transaction volume</li>
<li>Servicing transaction reporting information to clients</li>
<li>Maintaining varying amounts of historical data</li>
</ul>
<p>To meet your <code>rippled</code> capacity requirements, you must address these technical factors:</p>
<ul>
<li>The <a href="#configuration-settings">configuration settings</a> that affect resource utilization</li>
<li>The <a href="#network-and-hardware">network and hardware</a> requirements to achieve consistent, good performance across the XRP Ledger network</li>
</ul>
<h2 id="configuration-settings">Configuration Settings</h2>
<p>Ripple recommends the following guidelines to improve performance. You can set the following parameters in the <code>rippled.cfg</code> file to improve performance for your <code>rippled</code> server.</p>
<h3 id="node-size">Node Size</h3>
<p>The <code>node_size</code> parameter determines the size of database caches. Larger database caches decrease disk I/O requirements at a cost of higher memory requirements. Ripple recommends you always use the largest database cache your available memory can support. See the following table for recommended settings.</p>
<h4 id="recommendation">Recommendation</h4>
<table>
<thead>
<tr>
<th align="left">Available RAM for <code>rippled</code></th>
<th align="left"><code>node_size</code> value</th>
<th align="left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">&lt; 8GB</td>
<td align="left"><code>tiny</code></td>
<td align="left">Not recommended</td>
</tr>
<tr>
<td align="left">8GB</td>
<td align="left"><code>low</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">16GB</td>
<td align="left"><code>medium</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">32GB</td>
<td align="left"><code>huge</code></td>
<td align="left">Recommended for production servers</td>
</tr>
</tbody>
</table>
<h3 id="node-db-type">Node DB Type</h3>
<p>The <code>type</code> field in the <code>node_db</code> section of the <code>rippled.cfg</code> file sets the type of key-value store that <code>rippled</code> uses to persist the XRP Ledger in the ledger store. You can set the value to either <code>rocksdb</code> or <code>nudb</code>.</p>
<p><code>rippled</code> offers a history sharding feature that allows you to store a randomized range of ledgers in a separate shard store. You may want to configure the shard store to use a different type of key-value store than the ledger store. For more information about how to use this feature, see <a href="https://ripple.com/build/history-sharding/#shard-store-configuration">History Sharding</a>.</p>
<h4 id="rocksdb-vs-nudb">RocksDB vs NuDB</h4>
<p>RocksDB requires approximately one-third less disk storage than NuDB and provides a corresponding improvement in I/O latency. However, this comes at a cost of increased memory utilization as storage size grows. NuDB, on the other hand, has nearly constant performance and memory footprint regardless of <a href="#storage">storage</a>.</p>
<p><code>rippled</code> servers that operate as validators should keep only a few days' worth of data or less. Ripple recommends using RocksDB for validators. For all other uses, Ripple recommends using NuDB for the ledger store.</p>
<p>RocksDB has performance-related configuration options you can modify to achieve maximum transaction processing throughput. (NuDB does not have performance-related configuration options.) Here is an example of the recommended configuration for a <code>rippled</code> server using RocksDB:</p>
<div class="codehilite"><pre><span></span><code><span class="k">[node_db]</span>
<span class="na">type</span><span class="o">=</span><span class="s">rocksdb</span>
<span class="na">open_files</span><span class="o">=</span><span class="s">512</span>
<span class="na">file_size_mb</span><span class="o">=</span><span class="s">64</span>
<span class="na">file_size_mult</span><span class="o">=</span><span class="s">2</span>
<span class="na">filter_bits</span><span class="o">=</span><span class="s">12</span>
<span class="na">cache_mb</span><span class="o">=</span><span class="s">512</span>
<span class="na">path</span><span class="o">=</span><span class="s">{path_to_ledger_store}</span>
</code></pre></div>
<h3 id="historical-data">Historical Data</h3>
<p>The amount of historical data that a <code>rippled</code> server keeps online is a major contributor to required storage space. At the time of writing (2018-03-01), a <code>rippled</code> server stores about 12GB of data per day. You can expect this amount to grow as transaction volume increases across the XRP Ledger network. You can control how much data you keep with the <code>online_delete</code> and <code>advisory_delete</code> fields.</p>
<p>Online deletion enables pruning of <code>rippled</code> ledgers from databases without any disruption of service. It only removes records that are not part of the current ledgers. Without online deletion, those databases grow without bounds. Freeing disk space requires stopping the process and manually removing database files.</p>
<!-- -->
<h3 id="log-level">Log Level</h3>
<p>The default <code>rippled.cfg</code> file sets the logging verbosity to <code>warning</code>. This setting greatly reduces disk space and I/O requirements over more verbose logging. However, more verbose logging provides increased visibility for troubleshooting.</p>
<p class="devportal-callout caution"><strong>Caution:</strong> If you omit the <code>log_level</code> command from the <code>[rpc_startup]</code> stanza, <code>rippled</code> writes logs to disk at the <code>debug</code> level and outputs <code>warning</code> level  logs to the console. <code>debug</code> level logging requires several more GB of disk space per day than <code>warning</code> level, depending on transaction volumes and client activity.</p>
<h2 id="network-and-hardware">Network and Hardware</h2>
<p>Each <code>rippled</code> server in the XRP Ledger network performs all of the transaction processing work of the network. It is unknown when volumes will approach maximum network capacity. Therefore, the baseline hardware for production <code>rippled</code> servers should be similar to that used in Ripple's <a href="https://ripple.com/dev-blog/demonstrably-scalable-blockchain/">performance testing</a>.</p>
<h3 id="recommendation-1">Recommendation</h3>
<p>For best performance in enterprise production environments, Ripple recommends running <code>rippled</code> on bare metal with the following characteristics:</p>
<ul>
<li>Operating System: Ubuntu 16.04+</li>
<li>CPU: Intel Xeon 3+ GHz processor with 4 cores and hyperthreading enabled</li>
<li>Disk: SSD</li>
<li>RAM:<ul>
<li>For testing: 8GB+</li>
<li>For production: 32GB</li>
</ul>
</li>
<li>Network: Enterprise data center network with a gigabit network interface on the host</li>
</ul>
<h4 id="ssd-storage">SSD Storage</h4>
<p>SSD storage should support several thousand of both read and write IOPS. The maximum reads and writes per second that Ripple engineers have observed are over 10,000 reads per second (in heavily-used public server clusters), and over 7,000 writes per second (in dedicated performance testing).</p>
<h4 id="cpu-utilization-and-virtualization">CPU Utilization and Virtualization</h4>
<p>Ripple performance engineering has determined that bare metal servers achieve maximum throughput. However, it is likely that hypervisors cause minimal degradation in performance.</p>
<h4 id="network">Network</h4>
<p>Any enterprise or carrier-class data center should have substantial network bandwidth to support running <code>rippled</code> servers. The minimum requirements are roughly 2Mbps transmit and 2Mbps receive for current transaction volumes. However, these can burst up to 100MBps transmissions when serving historical ledger and transaction reports. When a <code>rippled</code> server initially starts up, it can burst to over 20Mbps receive.</p>
<h4 id="storage">Storage</h4>
<p>Ripple recommends estimating storage sizing at roughly 12GB per day of data kept online with NuDB. RocksDB requires around 8GB per day. However, the data per day changes with activity in the network. You should provision extra capacity to prepare for future growth. At the time of writing (2018-03-01), a server with all XRP Ledger history requires 6.8TB.</p>
<!-- -->
<!-- -->
<h4 id="memory">Memory</h4>
<p>Memory requirements are mainly a function of the <code>node_size</code> configuration setting and the amount of client traffic retrieving historical data. As mentioned, production servers should maximize performance and set this parameter to <code>huge</code>.
You can set the <code>node_size</code> parameter lower to use less memory, but you should only do this for testing. With a <code>node_size</code> of <code>medium</code>, a <code>rippled</code> server can be reasonably stable in a test Linux system with as little as 8GB of RAM.</p>
<h4 id="amazon-web-servives">Amazon Web Servives</h4>
<p>Amazon Web Services (AWS) is a popular virtualized hosting environment. You can run rippled in AWS, but Ripple does not recommend using Elastic Block Storage (EBS). Elastic Block Storage's maximum number of IOPS (5,000) is insufficient for <code>rippled</code>'s heaviest loads, despite being very expensive.</p>
<p>AWS instance stores (<code>ephemeral</code> storage) do not have these constraints. Therefore, Ripple recommends deploying <code>rippled</code> servers with host types such as <code>M3</code> that have instance storage. The <code>database_path</code> and <code>node_db</code> path should each reside on instance storage.</p>
<p class="devportal-callout caution"><strong>Caution:</strong> AWS instance storage is not guaranteed to provide durability in the event of hard drive failure. Further, data that is lost when the instance stops and restarts (but not when just rebooted). This loss can be acceptable for a <code>rippled</code> server because an individual server can usually re-acquire that data from its peer servers.</p>
<h1 id="installing-rippled">Installing rippled</h1>
<p>For development, you can <a href="https://wiki.ripple.com/Rippled_build_instructions">compile <code>rippled</code> from source</a>.</p>
<p>Production <code>rippled</code> instances can <a href="#installation-on-centosred-hat-with-yum">use Ripple's binary executable</a>, available from the Ripple <a href="https://en.wikipedia.org/wiki/Yellowdog_Updater,_Modified">yum</a> repository.</p>
<h2 id="minimum-system-requirements">Minimum System Requirements</h2>
<p>A <code>rippled</code> server should run comfortably on commodity hardware, to make it inexpensive to participate in the network. At present, we recommend the following mimimum requirements:</p>
<ul>
<li>Operating System:<ul>
<li>Production: CentOS or RedHat Enterprise Linux (latest release) or Ubuntu (16.04+) supported</li>
<li>Development: Mac OS X, Windows (64-bit), or most Linux distributions</li>
</ul>
</li>
<li>CPU: 64-bit x86_64, 2+ cores</li>
<li>Disk: Minimum 50GB SSD recommended (1000 IOPS, more is better) for the database partition</li>
<li>RAM:<ul>
<li>Testing: 8GB+</li>
<li>Production: 32 GB</li>
</ul>
</li>
</ul>
<p>Amazon EC2's <code>m3.large</code> VM size may be appropriate depending on your workload. A fast network connection is preferable. Any increase in a server's client-handling load increases resources needs.</p>
<p class="devportal-callout tip"><strong>Tip:</strong> For recommendations beyond the minimum requirements, see <a href="#capacity-planning">Capacity Planning</a>.</p>
<h2 id="installation-on-centosred-hat-with-yum">Installation on CentOS/Red Hat with yum</h2>
<p>This section assumes that you are using CentOS 7 or Red Hat Enterprise Linux 7.</p>
<ol>
<li>
<p>Install the Ripple RPM repository:</p>
<div class="codehilite"><pre><span></span><code>$ sudo rpm -Uvh https://mirrors.ripple.com/ripple-repo-el7.rpm
</code></pre></div>
</li>
<li>
<p>Install the <code>rippled</code> software package:</p>
<div class="codehilite"><pre><span></span><code>$ sudo yum install --enablerepo<span class="o">=</span>ripple-stable rippled
</code></pre></div>
</li>
<li>
<p>Configure the <code>rippled</code> service to start on system boot:</p>
<div class="codehilite"><pre><span></span><code>$ sudo systemctl <span class="nb">enable</span> rippled.service
</code></pre></div>
</li>
<li>
<p>Start the <code>rippled</code> service</p>
<div class="codehilite"><pre><span></span><code>$ sudo systemctl start rippled.service
</code></pre></div>
</li>
</ol>
<h2 id="installation-on-ubuntu-with-alien">Installation on Ubuntu with alien</h2>
<p>This section assumes that you are using Ubuntu 15.04 or later.</p>
<ol>
<li>
<p>Install yum-utils and alien:</p>
<div class="codehilite"><pre><span></span><code>$ sudo apt-get update
$ sudo apt-get install yum-utils alien
</code></pre></div>
</li>
<li>
<p>Install the Ripple RPM repository:</p>
<div class="codehilite"><pre><span></span><code>$ sudo rpm -Uvh https://mirrors.ripple.com/ripple-repo-el7.rpm
</code></pre></div>
</li>
<li>
<p>Download the <code>rippled</code> software package:</p>
<div class="codehilite"><pre><span></span><code><span class="o">$</span> <span class="n">yumdownloader</span> <span class="o">--</span><span class="n">enablerepo</span><span class="o">=</span><span class="n">ripple</span><span class="o">-</span><span class="n">stable</span> <span class="o">--</span><span class="n">releasever</span><span class="o">=</span><span class="n">el7</span> <span class="n">rippled</span>
</code></pre></div>
</li>
<li>
<p>Verify the signature on the <code>rippled</code> software package:</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span> <span class="n">sudo</span> <span class="n">rpm</span> <span class="o">--</span><span class="kn">import</span> <span class="nn">https</span><span class="p">:</span><span class="o">//</span><span class="n">mirrors</span><span class="o">.</span><span class="n">ripple</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">rpm</span><span class="o">/</span><span class="n">RPM</span><span class="o">-</span><span class="n">GPG</span><span class="o">-</span><span class="n">KEY</span><span class="o">-</span><span class="n">ripple</span><span class="o">-</span><span class="n">release</span> <span class="o">&amp;&amp;</span> <span class="n">rpm</span> <span class="o">-</span><span class="n">K</span> <span class="n">rippled</span><span class="o">*.</span><span class="n">rpm</span>
</code></pre></div>
</li>
<li>
<p>Install the <code>rippled</code> software package:</p>
<div class="codehilite"><pre><span></span><code>$ sudo alien -i --scripts rippled*.rpm <span class="o">&amp;&amp;</span> rm rippled*.rpm
</code></pre></div>
</li>
<li>
<p>Configure the <code>rippled</code> service to start on system boot:</p>
<div class="codehilite"><pre><span></span><code>$ sudo systemctl <span class="nb">enable</span> rippled.service
</code></pre></div>
</li>
<li>
<p>Start the <code>rippled</code> service</p>
<div class="codehilite"><pre><span></span><code>$ sudo systemctl start rippled.service
</code></pre></div>
</li>
</ol>
<h2 id="postinstall">Postinstall</h2>
<p>It can take several minutes for <code>rippled</code> to sync with the rest of the network, during which time it outputs warnings about missing ledgers. After that, you have a fully functional stock <code>rippled</code> server that you can use for local signing and API access to the XRP Ledger.</p>
<p><a href="reference-rippled.html#list-of-public-commands">rippled commands</a> can be run with:</p>
<div class="codehilite"><pre><span></span><code>    $ /opt/ripple/bin/rippled &lt;command&gt;
</code></pre></div>
<h2 id="updating-rippled">Updating rippled</h2>
<p>You can subscribe to the <a href="https://groups.google.com/forum/#!forum/ripple-server">rippled Google Group</a> to receive notifications of new <code>rippled</code> releases.</p>
<h3 id="automatic-update-on-centosred-hat">Automatic Update on CentOS/Red Hat</h3>
<p>Automatic rippled updates can be enabled with a one-time Cron configuration:</p>
<ol>
<li>
<p>Check that <code>/opt/ripple/bin/update-rippled.sh</code> exists. If it does not, <a href="#manual-update-on-centosred-hat">update manually</a>.</p>
</li>
<li>
<p>Install <code>crond</code>:</p>
<div class="codehilite"><pre><span></span><code>$ sudo yum install cronie
</code></pre></div>
</li>
<li>
<p>Open the crontab file for editing</p>
<div class="codehilite"><pre><span></span><code>$ sudo crontab -e
</code></pre></div>
</li>
<li>
<p>Add the following to the crontab file. Be sure to add a blank line at the end of the file.</p>
<div class="codehilite"><pre><span></span><code>RANDOM_DELAY=59
0 * * * * /opt/ripple/bin/update-rippled.sh
</code></pre></div>
</li>
</ol>
<p>The script updates the installed <code>rippled</code> package within an hour of each new release.</p>
<h3 id="manual-update-on-centosred-hat">Manual Update on CentOS/Red Hat</h3>
<p>Run the following commands to update to the latest release of <code>rippled</code>:</p>
<div class="codehilite"><pre><span></span><code>    <span class="o">$</span> <span class="n">sudo</span> <span class="n">rpm</span> <span class="o">-</span><span class="n">Uvh</span> <span class="o">--</span><span class="n">replacepkgs</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">mirrors</span><span class="o">.</span><span class="n">ripple</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ripple</span><span class="o">-</span><span class="n">repo</span><span class="o">-</span><span class="n">el7</span><span class="o">.</span><span class="n">rpm</span>
    <span class="o">$</span> <span class="n">sudo</span> <span class="n">yum</span> <span class="n">update</span> <span class="o">--</span><span class="n">enablerepo</span><span class="o">=</span><span class="n">ripple</span><span class="o">-</span><span class="n">stable</span> <span class="n">rippled</span>
    <span class="o">$</span> <span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">daemon</span><span class="o">-</span><span class="n">reload</span>
    <span class="o">$</span> <span class="n">sudo</span> <span class="n">service</span> <span class="n">rippled</span> <span class="n">restart</span>
</code></pre></div>
<h3 id="manual-update-on-ubuntu">Manual Update on Ubuntu</h3>
<p>Run the following commands to update to the latest release of <code>rippled</code>:</p>
<div class="codehilite"><pre><span></span><code>    <span class="o">$</span> <span class="n">sudo</span> <span class="n">rpm</span> <span class="o">-</span><span class="n">Uvh</span> <span class="o">--</span><span class="n">replacepkgs</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">mirrors</span><span class="o">.</span><span class="n">ripple</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ripple</span><span class="o">-</span><span class="n">repo</span><span class="o">-</span><span class="n">el7</span><span class="o">.</span><span class="n">rpm</span>
    <span class="o">$</span> <span class="n">yumdownloader</span> <span class="o">--</span><span class="n">enablerepo</span><span class="o">=</span><span class="n">ripple</span><span class="o">-</span><span class="n">stable</span> <span class="o">--</span><span class="n">releasever</span><span class="o">=</span><span class="n">el7</span> <span class="n">rippled</span>
    <span class="o">$</span> <span class="n">rpm</span> <span class="o">-</span><span class="n">K</span> <span class="n">rippled</span><span class="o">*.</span><span class="n">rpm</span>
    <span class="o">$</span> <span class="n">sudo</span> <span class="n">alien</span> <span class="o">-</span><span class="n">i</span> <span class="o">--</span><span class="n">scripts</span> <span class="n">rippled</span><span class="o">*.</span><span class="n">rpm</span>
    <span class="o">$</span> <span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">daemon</span><span class="o">-</span><span class="n">reload</span>
    <span class="o">$</span> <span class="n">sudo</span> <span class="n">service</span> <span class="n">rippled</span> <span class="n">restart</span>
</code></pre></div>
<h1 id="running-a-validator">Running a Validator</h1>
<p>Running a <code>rippled</code> validator that participates in the Consensus process is simple:</p>
<ol>
<li><a href="#validator-setup">Enable validation</a> on your <code>rippled</code> server.<ul>
<li>At first, your server is an <em>untrusted validator</em>. Others can see the validations your server issues, but they disregard them in the consensus process.</li>
</ul>
</li>
<li>Share the public key with the public, especially other <code>rippled</code> operators.</li>
<li>When other <code>rippled</code> operators add your public key to their list of trusted servers, you have become a <em>trusted validator</em>.<ul>
<li>Also see <a href="#properties-of-a-good-validator">Properties of a Good Validator</a> for best practices.</li>
</ul>
</li>
</ol>
<h2 id="validator-setup">Validator Setup</h2>
<p>The <code>validator-keys</code> tool (included in the <code>rippled</code> RPM) is the recommended means to securely generate and manage your validator keys.</p>
<ol>
<li>
<p><a href="#installing-rippled">Install a <code>rippled</code> server.</a></p>
</li>
<li>
<p>Generate a validator key pair:</p>
<div class="codehilite"><pre><span></span><code>$ /opt/ripple/bin/validator-keys create_keys
</code></pre></div>
<p class="devportal-callout warning"><strong>Warning:</strong> Store the generated <code>validator-keys.json</code> key file in a secure but recoverable location, such as an encrypted USB flash drive. Do not modify its contents.</p>
</li>
<li>
<p>Generate a validator token and edit your <code>rippled.cfg</code> file to add the <code>[validator_token]</code> value.</p>
<div class="codehilite"><pre><span></span><code>$ /opt/ripple/bin/validator-keys create_token --keyfile /path/to/your/validator-keys.json
</code></pre></div>
<p>If you had previously configured your validator without using the <code>validator-keys</code> tool, you must also delete the <code>[validation_seed]</code> from your <code>rippled.cfg</code> file. This changes your validator public key.</p>
</li>
<li>
<p>Start <code>rippled</code>:</p>
<div class="codehilite"><pre><span></span><code>$ sudo service rippled restart
</code></pre></div>
</li>
</ol>
<p>See <a href="https://github.com/ripple/validator-keys-tool/blob/master/doc/validator-keys-tool-guide.md">the <code>validator-keys-tool</code> GitHub repository</a> for more information about managing validator keys.</p>
<h2 id="public-facing-server">Public-Facing Server</h2>
<p>To protect a production validator from <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack">DDoS</a> attacks, you can use a stock <code>rippled</code> server as a proxy between the validator and the outside network.</p>
<ol>
<li>
<p><a href="#validator-setup">Set up the <code>rippled</code> validator.</a></p>
</li>
<li>
<p><a href="#installing-rippled">Set up one or more stock <code>rippled</code> servers.</a></p>
</li>
<li>
<p>Configure the validator and stock <code>rippled</code> servers to be <a href="#clustering">clustered</a> with each other.</p>
</li>
<li>
<p>Make the following configuration changes to your validator:</p>
<ul>
<li>Copy the <code>[ips_fixed]</code> list and paste it under <code>[ips]</code>. These fields should contain only the IP addresses and ports of the public-facing rippled(s). The validator connects to only these peers.</li>
<li>Change <code>[peer_private]</code> to <code>1</code> to prevent its IP address from being forwarded.</li>
</ul>
</li>
<li>
<p>Configure the validator host machine's firewall to only accept inbound connections from its public-facing rippled(s).</p>
</li>
</ol>
<p>Remember to restart <code>rippled</code> for config changes to take effect.</p>
<p>Take care not to publish the IP address of your validator.</p>
<h2 id="domain-verification">Domain Verification</h2>
<p>Network participants are unlikely to trust validators without knowing who is operating them. To address this concern, validator operators can associate their validator with a web domain that they control.</p>
<ol>
<li>
<p>Find your validator public key by running the following on the validator server:</p>
<div class="codehilite"><pre><span></span><code>$ /opt/ripple/bin/rippled server_info -q <span class="p">|</span> grep pubkey_validator
</code></pre></div>
</li>
<li>
<p>Sign the validator public key (from step 1) using the SSL private key used for your domain. The SSL private key file does not need to be stored on the validator server.</p>
<div class="codehilite"><pre><span></span><code>$ openssl dgst -sha256 -hex -sign /path/to/your/ssl.key &lt;<span class="o">(</span><span class="nb">echo</span> &lt;your-validator-public-key&gt;<span class="o">)</span>
</code></pre></div>
</li>
<li>
<p>Using <code>validator-keys</code> tool (included in the <code>rippled</code> RPM), sign the domain name:</p>
<div class="codehilite"><pre><span></span><code>$ /opt/ripple/bin/validator-keys --keyfile /path/to/your/validator-keys.json sign &lt;your-domain-name&gt;
</code></pre></div>
</li>
<li>
<p>To have the verified validator domain included on <a href="https://xrpcharts.ripple.com/#/validators">XRP Charts</a>, submit this <a href="https://docs.google.com/forms/d/e/1FAIpQLScszfq7rRLAfArSZtvitCyl-VFA9cNcdnXLFjURsdCQ3gHW7w/viewform">Google Form</a> with your validator's information.</p>
</li>
</ol>
<h1 id="additional-configuration">Additional Configuration</h1>
<p><code>rippled</code> should connect to the XRP Ledger with the default configuration. However, you can change your settings by editing the <code>rippled.cfg</code> file (located at <code>/opt/ripple/etc/rippled.cfg</code> when installing <code>rippled</code> with yum). For recommendations about configuration settings, see <a href="#capacity-planning">Capacity Planning</a>.</p>
<p>See <a href="https://github.com/ripple/rippled/blob/release/doc/rippled-example.cfg">the <code>rippled</code> GitHub repository</a> for a description of all configuration options.</p>
<p>Changes to the <code>[debug_logfile]</code> or <code>[database_path]</code> sections may require you to give the <code>rippled</code> user and group ownership to your new configured path:</p>
<div class="codehilite"><pre><span></span><code>    $ chown -R rippled:rippled &lt;configured path&gt;
</code></pre></div>
<p>Restart <code>rippled</code> for any configuration changes to take effect:</p>
<div class="codehilite"><pre><span></span><code>    $ sudo service rippled restart
</code></pre></div>
<h2 id="parallel-networks">Parallel Networks</h2>
<p>Most of the time, we describe the XRP Ledger as one collective, singular entity -- and that's mostly true. There is one production XRP Ledger peer-to-peer network, and all business that takes place on the XRP Ledger occurs within the production network.</p>
<p>However, sometimes you may want to do tests and experiments without interacting with the core network. That's why Ripple started the <a href="https://ripple.com/build/ripple-test-net/">Ripple Test Net</a>, an "alternate universe" network, which can act as a testing ground for applications and the <code>rippled</code> server itself, without impacting the business operations of everyday XRP Ledger users. The Ripple Test Net (also known as the AltNet) has a separate supply of TestNet-only XRP, which Ripple <a href="https://ripple.com/build/ripple-test-net/">gives away for free</a> to parties interested in developing applications on the Test Net.</p>
<p class="devportal-callout caution"><strong>Caution:</strong> Ripple makes no guarantees about the stability of the test network. It has been and continues to be used to test various properties of server configuration, network topology, and network performance.</p>
<p>Over time, there may also be smaller, temporary test networks for specific purposes.</p>
<h3 id="parallel-networks-and-consensus">Parallel Networks and Consensus</h3>
<p>There is no <code>rippled</code> setting that defines which network it uses. Instead, it uses the consensus of validators it trusts to know which ledger to accept as the truth. When different consensus groups of <code>rippled</code> instances only trust other members of the same group, each group continues as a parallel network. Even if malicious or misbehaving computers connect to both networks, the consensus process overrides the confusion as long as the members of each network are not configured to trust members of another network in excess of their quorum settings.</p>
<h2 id="clustering">Clustering</h2>
<p>If you are running multiple <code>rippled</code> servers in a single datacenter, you can configure those servers into a cluster to maximize efficiency. Running your <code>rippled</code> servers in a cluster provides the following benefits:</p>
<ul>
<li>Clustered <code>rippled</code> servers share the work of cryptography. If one server has verified the authenticity of a message, the other servers in the cluster trust it and do not re-verify.</li>
<li>Clustered servers share information about peers and API clients that are misbehaving or abusing the network. This makes it harder to attack all servers of the cluster at once.</li>
<li>Clustered servers always propagate transactions throughout the cluster, even if the transaction does not meet the current load-based transaction fee on some of them.</li>
</ul>
<p>To enable clustering, change the following sections of your <a href="https://github.com/ripple/rippled/blob/d7def5509d8338b1e46c0adf309b5912e5168af0/doc/rippled-example.cfg#L297-L346">config file</a> for each server:</p>
<ul>
<li>
<p>List the IP address and port of each other server under the <code>[ips_fixed]</code> section. The port should be the one from the other servers' <code>protocol = peer</code> setting in their <code>rippled.cfg</code>. Example:</p>
<div class="codehilite"><pre><span></span><code><span class="k">[ips_fixed]</span>
<span class="na">192.168.0.1 51235</span>
<span class="na">192.168.0.2 51235</span>
</code></pre></div>
</li>
<li>
<p>Generate a unique seed (using the <a href="reference-rippled.html#validation-seed"><code>validation_create</code> command</a>) for each of your servers, and configure it under the <code>[node_seed]</code> section. The <code>rippled</code> server uses this key to sign its messages to other servers in the peer-to-peer network.</p>
</li>
<li>
<p>Add the public keys (for peer communication) of each of your other servers under the <code>[cluster_nodes]</code> section.</p>
</li>
</ul>
    </div>
      </main>
  </div>

<footer class="content-info" role="contentinfo">
    <div class="container">
        <div class="row">
       		<div class="col-sm-12 absolute_bottom_footer">
       			<div class="col-sm-8">
                    <span>&copy; 2013 - 2018 Ripple. All Rights Reserved.</span>
                    <span><a href="https://ripple.com/terms-of-use/">Terms</a></span>
                    <span><a href="https://ripple.com/privacy-policy/">Privacy</a></span>
                    <span><a href="https://raw.githubusercontent.com/ripple/ripple-dev-portal/master/LICENSE">License</a></span>
                </div>
            </div><!-- /.absolute_bottom_footer -->

        </div><!-- /.row -->
    </div><!-- /.container -->
</footer>

<!-- Jump to top button -->
<a href="#main_content_wrapper" class="jump-to-top btn btn-primary btn-lg" role="button" title="Jump to top of page">Top</span></a>
<script type="text/javascript" src="assets/js/jump-to-top.js"></script>
</body>
</html>