<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width">

    <title>ledger_request - XRP Ledger Dev Portal</title>

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicons/favicon-32x32.png">
    <link rel="manifest" href="assets/favicons/site.webmanifest">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="msapplication-TileColor" content="#25A768">
    <meta name="msapplication-config" content="assets/favicons/browserconfig.xml">
    <meta name="theme-color" content="#25A768">

    <!-- jQuery -->
    <script src="assets/vendor/jquery-1.11.1.min.js"></script>

    <!-- Stylesheet -->
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link href="assets/css/devportal.css" rel="stylesheet" />

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-45576805-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-45576805-2');
      gtag('config', 'UA-157720658-3', { 'linker': {
        'domains': ['blog.xpring.io', 'forum.xpring.io', 'xpring.io',
                    'xrpl.org', 'explorer.xrpl.org', 'testnet.xrpl.org']
        } }
      );
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />




    <!-- expandable code samples -->
    <script src="assets/js/expandcode.js"></script>
    <!-- multi-code selection tabs -->
    <script src="assets/js/multicodetab.js"></script>
    <script>
        $(document).ready(function() {
            $(".multicode").minitabs();
            make_code_expandable();
        });
    </script>


</head>

<body class="xrp-ledger-dev-portal sidebar-primary lang-en ">

<div class="container-fluid">
<nav class="top-nav navbar navbar-expand-lg navbar-dark row">
  <a href="/" class="navbar-brand"><img src="assets/img/XRPLedger_DevPortal-white.svg" class="logo"  height="44" alt="XRP Ledger Dev Portal" /></a>
  <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarHolder" aria-controls="navbarHolder" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse justify-content-end" id="navbarHolder">
    <ul class="nav navbar-nav">

            <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="topnav_overview.html" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</a>
        <div class="dropdown-menu" aria-labelledby="topnav_overview.html">
          <a class="dropdown-item top-level-1" href="overview.html">Overview</a>
          <a class="dropdown-item top-level-1" href="uses.html">Uses</a>
          <a class="dropdown-item top-level-1" href="history.html">History</a>
          <a class="dropdown-item top-level-1" href="impact.html">Impact</a>
          <a class="dropdown-item top-level-1" href="carbon-calculator.html">Carbon Calculator</a>
        </div>
      </li>


            <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="topnav_explore.html" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Explore</a>
        <div class="dropdown-menu" aria-labelledby="topnav_explore.html">
          <a class="dropdown-item top-level-1" href="wallets.html">Wallets</a>
          <a class="dropdown-item top-level-1" href="exchanges.html">Exchanges</a>
          <a class="dropdown-item top-level-1" href="businesses.html">Businesses</a>
          <a class="dropdown-item top-level-1" href="https://livenet.xrpl.org/">Ledger Explorer</a>
        </div>
      </li>


            <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="topnav_docs.html" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Build</a>
        <div class="dropdown-menu" aria-labelledby="topnav_docs.html">
          <a class="dropdown-item top-level-1" href="docs.html">Docs</a>
          <a class="dropdown-item top-level-2" href="concepts.html">Concepts</a>
          <a class="dropdown-item top-level-2" href="tutorials.html">Tutorials</a>
          <a class="dropdown-item top-level-2" href="references.html">References</a>
          <a class="dropdown-item top-level-1" href="dev-tools.html">Dev Tools</a>
          <a class="dropdown-item top-level-1" href="/blog/">Dev Blog</a>
        </div>
      </li>


      <li class="nav-item">
        <a class="nav-link" href="contribute.html">Contribute</a>
      </li>

<div class="nav-item github-edit-wrap">
    <a href="https://github.com/ripple/xrpl-dev-portal/edit/master/content/references/rippled-api/admin-rippled-methods/logging-and-data-management-methods/ledger_request.md" target="_blank" class="nav-link github-edit">Edit</a>
</div><!-- /.github-edit -->
      <li class="nav-item dropdown" id="navbar-search">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown" id="topnav-search-dropdown-toggle"><i class="fa fa-search"></i><span class="sr-only">Open Search</span></a>
        <div class="dropdown-menu">
          <form class="navbar-form navbar-right" role="search">
            <div class="form-inline">
              <div class="input-group">
                <label class="input-group-prepend" for="topsearchbar"><i class="fa fa-search input-group-text"></i><span class="sr-only">Search site...</span></label>
                <input id="topsearchbox" name="q" type="text" class="form-control" placeholder="Search site...">
                <div class="input-group-append d-none d-lg-flex">
                  <button type="button" class="btn btn-default" data-toggle="dropdown" data-target="topnav-search-dropdown-toggle"><i class="fa fa-times"></i><span class="sr-only">Close Search</span></button>
                </div>
              </div><!--/.input-group-->
            </div>
          </form>
        </div><!--/.dropdown-menu-->
      </li><!--/.dropdown-->

      <li class="nav-item wrap-button">
        <a class="btn btn-outline-secondary nav-link" href="get-started.html">Get Started</a>
      </li>

    </ul><!-- /.navbar-nav -->

    <div class="nav navbar-nav language-selector">
      <div class="dropdown">
        <a class="nav-link dropdown-toggle with-caret" type="button" id="language_selector_header_btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Eng
        </a>
        <div class="dropdown-menu smaller-dropdown" aria-labelledby="language_selector_header_btn">
          <a class="dropdown-item" href="/ledger_request.html">Eng</a>
          <a class="dropdown-item" href="/ja/ledger_request.html">日本語</a>
        </div><!--/.dropdown-menu-->
      </div><!--/.dropdown-->
    </div><!--/.language-selector-->
  </div><!--/#navbarHolder-->
</nav>
</div>
  <div class="container-fluid" role="document" id="main_content_wrapper">
    <div class="row">
      <!-- Right sidebar first so it's at the beginning for mobile layouts -->
      <aside class="right-sidebar col-lg-3 order-lg-4" role="complementary">
  <div class="card" id="page-toc-wrapper">
    <div class="card-header">
      <h4>In this document</h4>
    </div>
    <ul class="card-body page-toc">
      <li class="level-1"><a href="#ledger_request">ledger_request</a></li>
<li class="level-3"><a href="#request-format">Request Format</a></li>
<li class="level-3"><a href="#response-format">Response Format</a></li>
<li class="level-3"><a href="#ledger-request-object">Ledger Request Object</a></li>
<li class="level-3"><a href="#possible-errors">Possible Errors</a></li>

    </ul>
  </div>
      </aside>

      <!-- main column -->
      <main class="main col-md-7 col-lg-6 order-md-3  " role="main" id="main_content_body">
<nav class="breadcrumbs-wrap p-0 p-md-3" aria-label="breadcrumb">
  <ul class="breadcrumb">
    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
    <li class="active breadcrumb-item"><a href="docs.html">Build</a></li>
    <li class="active breadcrumb-item"><a href="references.html">References</a></li>
    <li class="active breadcrumb-item"><a href="rippled-api.html">rippled API Reference</a></li>
    <li class="active breadcrumb-item"><a href="admin-rippled-methods.html">Admin rippled Methods</a></li>
    <li class="active breadcrumb-item"><a href="logging-and-data-management-methods.html">Logging and Data Management Methods</a></li>
    <li class="active breadcrumb-item">ledger_request</li>
  </ul>
</nav><!--/.breadcrumbs-wrap-->  <article class="pt-3 p-md-3">
    <div class="content">
        <h1 id="ledger_request">ledger_request</h1>
<p><a class="external-link" href="https://github.com/ripple/rippled/blob/e980e69eca9ea843d200773eb1f43abe3848f1a0/src/ripple/rpc/handlers/LedgerRequest.cpp" target="_blank" title="Source">[Source] <i aria-hidden="true" class="fa fa-external-link"></i></a></p>
<p>The <code>ledger_request</code> command tells server to fetch a specific ledger version from its connected peers. This only works if one of the server's immediately-connected peers has that ledger. You may need to run the command several times to completely fetch a ledger.</p>
<p><em>The <code>ledger_request</code> method is an <a href="admin-rippled-methods.html">admin method</a> that cannot be run by unprivileged users!</em></p>
<h3 id="request-format">Request Format</h3>
<p>An example of the request format:</p>
<div class="multicode" id="code-0"><ul class="codetabs"><li><a href="#code-0-0">WebSocket</a></li><li><a href="#code-0-1">Commandline</a></li></ul>

<div class="code_sample" id="code-0-0" style="position: static;"><div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="nt">"id"</span><span class="p">:</span> <span class="mi">102</span><span class="p">,</span>
    <span class="nt">"command"</span><span class="p">:</span> <span class="s2">"ledger_request"</span><span class="p">,</span>
    <span class="nt">"ledger_index"</span><span class="p">:</span> <span class="mi">13800000</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="code_sample" id="code-0-1" style="position: static;"><div class="codehilite"><pre><span></span><code><span class="err">rippled ledger_request 13800000</span>
</code></pre></div></div>
</div>
<p>The request includes the following parameters:</p>
<table>
<thead>
<tr>
<th align="left"><code>Field</code></th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>ledger_index</code></td>
<td align="left">Number</td>
<td align="left"><em>(Optional)</em> Retrieve the specified ledger by its <a href="basic-data-types.html#ledger-index">Ledger Index</a>.</td>
</tr>
<tr>
<td align="left"><code>ledger_hash</code></td>
<td align="left">String</td>
<td align="left"><em>(Optional)</em> Retrieve the specified ledger by its identifying <a href="basic-data-types.html#hashes">Hash</a>.</td>
</tr>
</tbody>
</table>
<p>You must provide either <code>ledger_index</code> or <code>ledger_hash</code> but not both.</p>
<h3 id="response-format">Response Format</h3>
<p>The response follows the <a href="response-formatting.html">standard format</a>. However, the request returns a failure response if it does not have the specified ledger <em>even if it successfully instructed the <code>rippled</code> server to start retrieving the ledger</em>.</p>
<p class="devportal-callout note"><strong>Note:</strong> To retrieve a ledger, the rippled server must have a direct peer with that ledger in its history. If none of the peers have the requested ledger, you can use the <a href="connect.html">connect method</a> or the <code>fixed_ips</code> section of the config file to add Ripple's full-history server at <code>s2.ripple.com</code> and then make the <code>ledger_request</code> request again.</p>
<p>A failure response indicates the status of fetching the ledger. A successful response contains the information for the ledger in a similar format to the <a href="ledger.html">ledger method</a>.</p>
<div class="multicode" id="code-1"><ul class="codetabs"><li><a href="#code-1-0">Commandline (failure)</a></li><li><a href="#code-1-1">Commandline (in-progress)</a></li><li><a href="#code-1-2">Commandline (success)</a></li></ul>

<div class="code_sample" id="code-1-0" style="position: static;"><div class="codehilite"><pre><span></span><code><span class="err">Loading:</span> <span class="s2">"/etc/rippled.cfg"</span>
<span class="err">Connecting</span> <span class="err">to</span> <span class="mf">127.0</span><span class="err">.</span><span class="mf">0.1</span><span class="err">:</span><span class="mi">5005</span>

<span class="p">{</span>
   <span class="nt">"result"</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">"acquiring"</span> <span class="p">:</span> <span class="p">{</span>
         <span class="nt">"hash"</span> <span class="p">:</span> <span class="s2">"01DDD89B6605E20338B8EEB8EB2B0E0DD2F685A2B164F3790C4D634B5734CC26"</span><span class="p">,</span>
         <span class="nt">"have_header"</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
         <span class="nt">"peers"</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
         <span class="nt">"timeouts"</span> <span class="p">:</span> <span class="mi">0</span>
      <span class="p">},</span>
      <span class="nt">"error"</span> <span class="p">:</span> <span class="s2">"lgrNotFound"</span><span class="p">,</span>
      <span class="nt">"error_code"</span> <span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
      <span class="nt">"error_message"</span> <span class="p">:</span> <span class="s2">"acquiring ledger containing requested index"</span><span class="p">,</span>
      <span class="nt">"request"</span> <span class="p">:</span> <span class="p">{</span>
         <span class="nt">"command"</span> <span class="p">:</span> <span class="s2">"ledger_request"</span><span class="p">,</span>
         <span class="nt">"ledger_index"</span> <span class="p">:</span> <span class="mi">18851277</span>
      <span class="p">},</span>
      <span class="nt">"status"</span> <span class="p">:</span> <span class="s2">"error"</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="code_sample" id="code-1-1" style="position: static;"><div class="codehilite"><pre><span></span><code><span class="err">Loading:</span> <span class="s2">"/etc/rippled.cfg"</span>
<span class="err">Connecting</span> <span class="err">to</span> <span class="mf">127.0</span><span class="err">.</span><span class="mf">0.1</span><span class="err">:</span><span class="mi">5005</span>

<span class="p">{</span>
   <span class="nt">"result"</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">"hash"</span> <span class="p">:</span> <span class="s2">"EB68B5B4F6F06BF59B6D7532BCB98BB98E2F10C2435D895217AA0AA7E910FBD5"</span><span class="p">,</span>
      <span class="nt">"have_header"</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">"have_state"</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">"have_transactions"</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">"needed_state_hashes"</span> <span class="p">:</span> <span class="p">[</span>
         <span class="s2">"C46F7B9E795135447AF24BAF999AB8FC1612A997F6EAAF8B784C226FF0BD8E25"</span><span class="p">,</span>
         <span class="s2">"E48F528E4FC2A1DC492C6264B27B420E2285B2A3ECF3A253DB480DA5BFB7F858"</span><span class="p">,</span>
         <span class="s2">"B62CD0B2E1277F78BC279FA037F3F747587299B60D23A551C3F63DD137DC0CF8"</span><span class="p">,</span>
         <span class="s2">"30014C55701FB8426E496A47B297BEC9E8F5BFA47763CC22DBD9024CC81D39DD"</span><span class="p">,</span>
         <span class="s2">"7EB59A853913898FCEA7B701637F33B1054BD36C32A0B910B612EFB9CDFF6334"</span><span class="p">,</span>
         <span class="s2">"07ECAD3066D62583883979A2FADAADC8F7D89FA07375843C8A47452639AB2421"</span><span class="p">,</span>
         <span class="s2">"97A87E5246AF78463485CB27E08D561E22AAF33D5E2F08FE2FACAE0D05CB5478"</span><span class="p">,</span>
         <span class="s2">"50A0525E238629B32324C9F59B4ECBEFE3C21DC726DB9AB3B6758BD1838DFF68"</span><span class="p">,</span>
         <span class="s2">"8C541B1ED47C9282E2A28F0B7F3DDFADF06644CAB71B15A3E67D04C5FAFE9BF4"</span><span class="p">,</span>
         <span class="s2">"2C6CC536C778D8C0F601E35DA7DD9888C288897E4F603E76357CE2F47E8A7A9F"</span><span class="p">,</span>
         <span class="s2">"309E78DEC67D5725476A59E114850556CC693FB6D92092997ADE97E3EFF473CC"</span><span class="p">,</span>
         <span class="s2">"8EFF61B6A636AF6B4314CAC0C08F4FED0759E1F782178A822EDE98275E5E4B10"</span><span class="p">,</span>
         <span class="s2">"9535645E5D249AC0B6126005B79BB981CBA00286E00154D20A3BCF65743EA3CA"</span><span class="p">,</span>
         <span class="s2">"69F5D6FCB41D1E6CEA5ADD42CBD194086B45E957D497DF7AEE62ADAD485660CE"</span><span class="p">,</span>
         <span class="s2">"07E93A95DBB0B8A00925DE0DF6D27E41CACC77EF75055A89815006109D82EAD3"</span><span class="p">,</span>
         <span class="s2">"7FDF25F660235DCAD649676E3E6729DF920A9B0B4B6A3B090A3C64D7BDE2FB20"</span>
      <span class="p">],</span>
      <span class="nt">"needed_transaction_hashes"</span> <span class="p">:</span> <span class="p">[</span>
         <span class="s2">"BA914854F2F5EDFCBD6E3E0B168E5D4CD0FC92927BEE408C6BD38D4F52505A34"</span><span class="p">,</span>
         <span class="s2">"AE3A2DB537B01EB33BB3A677242DE52C9AE0A64BD9222EE55E52855276E7EA2A"</span><span class="p">,</span>
         <span class="s2">"E145F737B255D93769673CBA6DEBA4F6AC7387A309DAACC72EA5B07ECF03C215"</span><span class="p">,</span>
         <span class="s2">"073A118552AA60E1D3C6BE6F65E4AFA01C582D9C41CCC2887244C19D9BFA7741"</span><span class="p">,</span>
         <span class="s2">"562DB8580CD3FE19AF5CEA61C2858C10091151B924DBF2AEB7CBB8722E683204"</span><span class="p">,</span>
         <span class="s2">"437C0D1C2391057079E9539CF028823D29E6437A965284F6E54CEBF1D25C5D56"</span><span class="p">,</span>
         <span class="s2">"1F069486AF5533883609E5C8DB907E97273D9A782DF26F5E5811F1C42ED63A3D"</span><span class="p">,</span>
         <span class="s2">"CAA6B7DA68EBA71254C218C81A9EA029A179694BDD0D75A49FB03A7D57BCEE49"</span>
      <span class="p">],</span>
      <span class="nt">"peers"</span> <span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">"status"</span> <span class="p">:</span> <span class="s2">"success"</span><span class="p">,</span>
      <span class="nt">"timeouts"</span> <span class="p">:</span> <span class="mi">1</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="code_sample" id="code-1-2" style="position: static;"><div class="codehilite"><pre><span></span><code><span class="err">Loading:</span> <span class="s2">"/etc/rippled.cfg"</span>
<span class="err">Connecting</span> <span class="err">to</span> <span class="mf">127.0</span><span class="err">.</span><span class="mf">0.1</span><span class="err">:</span><span class="mi">5005</span>

<span class="p">{</span>
   <span class="nt">"result"</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">"ledger"</span> <span class="p">:</span> <span class="p">{</span>
         <span class="nt">"accepted"</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
         <span class="nt">"account_hash"</span> <span class="p">:</span> <span class="s2">"84EBB27D9510AD5B9A3A328201921B3FD418D4A349E85D3DC69E33C7B506407F"</span><span class="p">,</span>
         <span class="nt">"close_time"</span> <span class="p">:</span> <span class="mi">486691300</span><span class="p">,</span>
         <span class="nt">"close_time_human"</span> <span class="p">:</span> <span class="s2">"2015-Jun-04 00:01:40"</span><span class="p">,</span>
         <span class="nt">"close_time_resolution"</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
         <span class="nt">"closed"</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
         <span class="nt">"hash"</span> <span class="p">:</span> <span class="s2">"DCF5D723ECEE1EF56D2B0024CD9BDFF2D8E3DC211BD2B9460165922564ACD863"</span><span class="p">,</span>
         <span class="nt">"ledger_hash"</span> <span class="p">:</span> <span class="s2">"DCF5D723ECEE1EF56D2B0024CD9BDFF2D8E3DC211BD2B9460165922564ACD863"</span><span class="p">,</span>
         <span class="nt">"ledger_index"</span> <span class="p">:</span> <span class="s2">"13840000"</span><span class="p">,</span>
         <span class="nt">"parent_hash"</span> <span class="p">:</span> <span class="s2">"8A3F6FBC62C11DE4538D969F9C7966234635FE6CEB1133DDC37220978F8100A9"</span><span class="p">,</span>
         <span class="nt">"seqNum"</span> <span class="p">:</span> <span class="s2">"13840000"</span><span class="p">,</span>
         <span class="nt">"totalCoins"</span> <span class="p">:</span> <span class="s2">"99999022883526403"</span><span class="p">,</span>
         <span class="nt">"total_coins"</span> <span class="p">:</span> <span class="s2">"99999022883526403"</span><span class="p">,</span>
         <span class="nt">"transaction_hash"</span> <span class="p">:</span> <span class="s2">"3D759EF3AF1AE2F78716A8CCB2460C3030F82687E54206E883703372B9E1770C"</span>
      <span class="p">},</span>
      <span class="nt">"ledger_index"</span> <span class="p">:</span> <span class="mi">13840000</span><span class="p">,</span>
      <span class="nt">"status"</span> <span class="p">:</span> <span class="s2">"success"</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
</div>
<p>The three possible response formats are as follows:</p>
<ol>
<li>When returning a <code>lgrNotFound</code> error, the response has a field, <code>acquiring</code> with a <a href="#ledger-request-object">Ledger Request Object</a> indicating the progress of fetching the ledger from the peer-to-peer network.</li>
<li>When the response shows the server is currently fetching the ledger, the body of the result is a <a href="#ledger-request-object">Ledger Request Object</a> indicating the progress of fetching the ledger from the peer-to-peer network.</li>
<li>When the ledger is fully available, the response is a representation of the <a href="ledger-header.html">ledger header</a>.</li>
</ol>
<h3 id="ledger-request-object">Ledger Request Object</h3>
<p>When the server is in the progress of fetching a ledger, but has not yet finished, the <code>rippled</code> server returns a ledger request object indicating its progress towards fetching the ledger. This object has the following fields:</p>
<table>
<thead>
<tr>
<th align="left"><code>Field</code></th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>hash</code></td>
<td align="left">String</td>
<td align="left">(May be omitted) The <a href="basic-data-types.html#hashes">Hash</a> of the requested ledger, if the server knows it.</td>
</tr>
<tr>
<td align="left"><code>have_header</code></td>
<td align="left">Boolean</td>
<td align="left">Whether the server has the header section of the requested ledger.</td>
</tr>
<tr>
<td align="left"><code>have_state</code></td>
<td align="left">Boolean</td>
<td align="left">(May be omitted) Whether the server has the <a href="ledgers.html#tree-format">account-state section</a> of the requested ledger.</td>
</tr>
<tr>
<td align="left"><code>have_transactions</code></td>
<td align="left">Boolean</td>
<td align="left">(May be omitted) Whether the server has the transaction section of the requested ledger.</td>
</tr>
<tr>
<td align="left"><code>needed_state_hashes</code></td>
<td align="left">Array of Strings</td>
<td align="left">(May be omitted) Up to 16 hashes of objects in the <a href="ledgers.html#tree-format">state tree</a> that the server still needs to retrieve.</td>
</tr>
<tr>
<td align="left"><code>needed_transaction_hashes</code></td>
<td align="left">Array of Strings</td>
<td align="left">(May be omitted) Up to 16 hashes of objects in the transaction tree that the server still needs to retrieve.</td>
</tr>
<tr>
<td align="left"><code>peers</code></td>
<td align="left">Number</td>
<td align="left">How many peers the server is querying to find this ledger.</td>
</tr>
<tr>
<td align="left"><code>timeouts</code></td>
<td align="left">Number</td>
<td align="left">Number of times fetching this ledger has timed out so far.</td>
</tr>
</tbody>
</table>
<h3 id="possible-errors">Possible Errors</h3>
<ul>
<li>Any of the <a href="error-formatting.html#universal-errors">universal error types</a>.</li>
<li><code>invalidParams</code> - One or more fields are specified incorrectly, or one or more required fields are missing. This error can also occur if you specify a ledger index equal or higher than the current in-progress ledger.</li>
<li><code>lgrNotFound</code> - If the ledger is not yet available. This indicates that the server has started fetching the ledger, although it may fail if none of its connected peers have the requested ledger. (Previously, this error used the code <code>ledgerNotFound</code> instead.) <a class="external-link" href="https://github.com/ripple/rippled/releases/tag/0.30.1" target="_blank" title="Updated in: rippled 0.30.1"><img alt="Updated in: rippled 0.30.1" class="dactyl_badge" src="https://img.shields.io/badge/Updated%20in-rippled%200.30.1-blue.svg"/> <i aria-hidden="true" class="fa fa-external-link"></i></a></li>
</ul>
<!-- -->
<!-- -->
<!-- API object types -->
<!-- -->
<!-- -->
<!-- -->
<!-- rippled release notes links -->
    </div>
  </article>
      </main>
      <!-- Left sidebar last so it's at the end for mobile -->
      <aside class="sidebar col-md-5 col-lg-3 order-md-1" role="complementary">
<div class="tree-nav">

  <!---->
    <div class="sidenav_parent">
      <a href="rippled-api.html"> rippled API Reference</a>
    </div>

  <!---->

    <!---->
    <div id="sidenav" role="tablist" aria-multiselectable="true">
            <div class="card">
              <div class="card-header" role="tab" id="sidenav_cat_head_21">
                <a class="collapsed sidenav_cat_toggler" role="button" data-toggle="collapse" href="#sidenav_collapse_21" aria-expanded="true" aria-controls="sidenav_collapse_21"></a>
                <h5 class="card-title">
                    <a class="sidenav_cat_title" href="api-conventions.html">API Conventions</a>
                </h5>
              </div><!-- /.card-header -->

              <div id="sidenav_collapse_21" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_21">
                <div class="card-body">
                  <ul class="sidebar_pagelist">
                        <li><a class="nosubcat-page" href="basic-data-types.html">Basic Data Types</a></li>
                        <li><a class="nosubcat-page" href="base58-encodings.html">base58 Encodings</a></li>
                        <li><a class="nosubcat-page" href="currency-formats.html">Currency Formats</a></li>
                        <li><a class="nosubcat-page" href="error-formatting.html">Error Formatting</a></li>
                        <li><a class="nosubcat-page" href="markers-and-pagination.html">Markers and Pagination</a></li>
                        <li><a class="nosubcat-page" href="modifying-the-ledger.html">Modifying the Ledger</a></li>
                        <li><a class="nosubcat-page" href="rate-limiting.html">Rate Limiting</a></li>
                        <li><a class="nosubcat-page" href="request-formatting.html">Request Formatting</a></li>
                        <li><a class="nosubcat-page" href="response-formatting.html">Response Formatting</a></li>
                        <li><a class="nosubcat-page" href="rippled-server-states.html">rippled Server States</a></li>
                        <li><a class="nosubcat-page" href="serialization.html">Serialization Format</a></li>

                  </ul>
                </div><!-- /.card-body -->
              </div><!-- /#sidenav_collapse21 -->

            </div><!-- /.panel -->
            <div class="card">
              <div class="card-header" role="tab" id="sidenav_cat_head_22">
                <a class="collapsed sidenav_cat_toggler" role="button" data-toggle="collapse" href="#sidenav_collapse_22" aria-expanded="true" aria-controls="sidenav_collapse_22"></a>
                <h5 class="card-title">
                    <a class="sidenav_cat_title" href="public-rippled-methods.html">Public rippled Methods</a>
                </h5>
              </div><!-- /.card-header -->

              <div id="sidenav_collapse_22" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_22">
                <div class="card-body">
                  <ul class="sidebar_pagelist">
                        <li><a class="subcat-title" href="account-methods.html">Account Methods</a></li>

                            <li><a class="subpage" href="account_channels.html">account_channels</a></li>
                            <li><a class="subpage" href="account_currencies.html">account_currencies</a></li>
                            <li><a class="subpage" href="account_info.html">account_info</a></li>
                            <li><a class="subpage" href="account_lines.html">account_lines</a></li>
                            <li><a class="subpage" href="account_objects.html">account_objects</a></li>
                            <li><a class="subpage" href="account_offers.html">account_offers</a></li>
                            <li><a class="subpage" href="account_tx.html">account_tx</a></li>
                            <li><a class="subpage" href="gateway_balances.html">gateway_balances</a></li>
                            <li><a class="subpage" href="noripple_check.html">noripple_check</a></li>

                        <li><a class="subcat-title" href="ledger-methods.html">Ledger Methods</a></li>

                            <li><a class="subpage" href="ledger.html">ledger</a></li>
                            <li><a class="subpage" href="ledger_closed.html">ledger_closed</a></li>
                            <li><a class="subpage" href="ledger_current.html">ledger_current</a></li>
                            <li><a class="subpage" href="ledger_data.html">ledger_data</a></li>
                            <li><a class="subpage" href="ledger_entry.html">ledger_entry</a></li>

                        <li><a class="subcat-title" href="transaction-methods.html">Transaction Methods</a></li>

                            <li><a class="subpage" href="sign.html">sign</a></li>
                            <li><a class="subpage" href="sign_for.html">sign_for</a></li>
                            <li><a class="subpage" href="submit.html">submit</a></li>
                            <li><a class="subpage" href="submit_multisigned.html">submit_multisigned</a></li>
                            <li><a class="subpage" href="transaction_entry.html">transaction_entry</a></li>
                            <li><a class="subpage" href="tx.html">tx</a></li>
                            <li><a class="subpage" href="tx_history.html">tx_history</a></li>

                        <li><a class="subcat-title" href="path-and-order-book-methods.html">Path and Order Book Methods</a></li>

                            <li><a class="subpage" href="book_offers.html">book_offers</a></li>
                            <li><a class="subpage" href="deposit_authorized.html">deposit_authorized</a></li>
                            <li><a class="subpage" href="path_find.html">path_find</a></li>
                            <li><a class="subpage" href="ripple_path_find.html">ripple_path_find</a></li>

                        <li><a class="subcat-title" href="payment-channel-methods.html">Payment Channel Methods</a></li>

                            <li><a class="subpage" href="channel_authorize.html">channel_authorize</a></li>
                            <li><a class="subpage" href="channel_verify.html">channel_verify</a></li>

                        <li><a class="subcat-title" href="subscription-methods.html">Subscription Methods</a></li>

                            <li><a class="subpage" href="subscribe.html">subscribe</a></li>
                            <li><a class="subpage" href="unsubscribe.html">unsubscribe</a></li>

                        <li><a class="subcat-title" href="server-info-methods.html">Server Info Methods</a></li>

                            <li><a class="subpage" href="fee.html">fee</a></li>
                            <li><a class="subpage" href="server_info.html">server_info</a></li>
                            <li><a class="subpage" href="server_state.html">server_state</a></li>

                        <li><a class="subcat-title" href="utility-methods.html">Utility Methods</a></li>

                            <li><a class="subpage" href="json.html">json</a></li>
                            <li><a class="subpage" href="ping.html">ping</a></li>
                            <li><a class="subpage" href="random.html">random</a></li>


                  </ul>
                </div><!-- /.card-body -->
              </div><!-- /#sidenav_collapse22 -->

            </div><!-- /.panel -->
            <div class="card active">
              <div class="card-header" role="tab" id="sidenav_cat_head_23">
                <a class="sidenav_cat_toggler" role="button" data-toggle="collapse" href="#sidenav_collapse_23" aria-expanded="true" aria-controls="sidenav_collapse_23"></a>
                <h5 class="card-title">
                    <a class="sidenav_cat_title active-parent" href="admin-rippled-methods.html">Admin rippled Methods</a>
                </h5>
              </div><!-- /.card-header -->

              <div id="sidenav_collapse_23" class="collapse show" role="tabpanel" aria-labelledby="sidenav_cat_head_23">
                <div class="card-body">
                  <ul class="sidebar_pagelist">
                        <li><a class="subcat-title" href="key-generation-methods.html">Key Generation Methods</a></li>

                            <li><a class="subpage" href="validation_create.html">validation_create</a></li>
                            <li><a class="subpage" href="wallet_propose.html">wallet_propose</a></li>

                        <li><a class="subcat-title active-parent" href="logging-and-data-management-methods.html">Logging and Data Management Methods</a></li>

                            <li><a class="subpage" href="can_delete.html">can_delete</a></li>
                            <li><a class="subpage" href="crawl_shards.html">crawl_shards</a></li>
                            <li><a class="subpage" href="download_shard.html">download_shard</a></li>
                            <li><a class="subpage" href="ledger_cleaner.html">ledger_cleaner</a></li>
                            <li><a class="active subpage" href="#main_content_body">ledger_request</a></li>
                            <li><a class="subpage" href="log_level.html">log_level</a></li>
                            <li><a class="subpage" href="logrotate.html">logrotate</a></li>

                        <li><a class="subcat-title" href="server-control-methods.html">Server Control Methods</a></li>

                            <li><a class="subpage" href="ledger_accept.html">ledger_accept</a></li>
                            <li><a class="subpage" href="stop.html">stop</a></li>
                            <li><a class="subpage" href="validation_seed.html">validation_seed</a></li>

                        <li><a class="subcat-title" href="peer-management-methods.html">Peer Management Methods</a></li>

                            <li><a class="subpage" href="connect.html">connect</a></li>
                            <li><a class="subpage" href="peer_reservations_add.html">peer_reservations_add</a></li>
                            <li><a class="subpage" href="peer_reservations_del.html">peer_reservations_del</a></li>
                            <li><a class="subpage" href="peer_reservations_list.html">peer_reservations_list</a></li>
                            <li><a class="subpage" href="peers.html">peers</a></li>

                        <li><a class="subcat-title" href="status-and-debugging-methods.html">Status and Debugging Methods</a></li>

                            <li><a class="subpage" href="consensus_info.html">consensus_info</a></li>
                            <li><a class="subpage" href="feature.html">feature</a></li>
                            <li><a class="subpage" href="fetch_info.html">fetch_info</a></li>
                            <li><a class="subpage" href="get_counts.html">get_counts</a></li>
                            <li><a class="subpage" href="manifest.html">manifest</a></li>
                            <li><a class="subpage" href="print.html">print</a></li>
                            <li><a class="subpage" href="validator_info.html">validator_info</a></li>
                            <li><a class="subpage" href="validator_list_sites.html">validator_list_sites</a></li>
                            <li><a class="subpage" href="validators.html">validators</a></li>


                  </ul>
                </div><!-- /.card-body -->
              </div><!-- /#sidenav_collapse23 -->

            </div><!-- /.panel -->
            <div class="card">
              <div class="card-header" role="tab" id="sidenav_cat_head_24">
                <a class="collapsed sidenav_cat_toggler" role="button" data-toggle="collapse" href="#sidenav_collapse_24" aria-expanded="true" aria-controls="sidenav_collapse_24"></a>
                <h5 class="card-title">
                    <a class="sidenav_cat_title" href="ledger-data-formats.html">Ledger Data Formats</a>
                </h5>
              </div><!-- /.card-header -->

              <div id="sidenav_collapse_24" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_24">
                <div class="card-body">
                  <ul class="sidebar_pagelist">
                        <li><a class="nosubcat-page" href="ledger-header.html">Ledger Header</a></li>
                        <li><a class="nosubcat-page" href="ledger-object-ids.html">Ledger Object IDs</a></li>
                        <li><a class="subcat-title" href="ledger-object-types.html">Ledger Object Types</a></li>

                            <li><a class="subpage" href="accountroot.html">AccountRoot</a></li>
                            <li><a class="subpage" href="amendments-object.html">Amendments</a></li>
                            <li><a class="subpage" href="check.html">Check</a></li>
                            <li><a class="subpage" href="depositpreauth-object.html">DepositPreauth</a></li>
                            <li><a class="subpage" href="directorynode.html">DirectoryNode</a></li>
                            <li><a class="subpage" href="escrow-object.html">Escrow</a></li>
                            <li><a class="subpage" href="feesettings.html">FeeSettings</a></li>
                            <li><a class="subpage" href="ledgerhashes.html">LedgerHashes</a></li>
                            <li><a class="subpage" href="offer.html">Offer</a></li>
                            <li><a class="subpage" href="paychannel.html">PayChannel</a></li>
                            <li><a class="subpage" href="ripplestate.html">RippleState</a></li>
                            <li><a class="subpage" href="signerlist.html">SignerList</a></li>


                  </ul>
                </div><!-- /.card-body -->
              </div><!-- /#sidenav_collapse24 -->

            </div><!-- /.panel -->
            <div class="card">
              <div class="card-header" role="tab" id="sidenav_cat_head_25">
                <a class="collapsed sidenav_cat_toggler" role="button" data-toggle="collapse" href="#sidenav_collapse_25" aria-expanded="true" aria-controls="sidenav_collapse_25"></a>
                <h5 class="card-title">
                    <a class="sidenav_cat_title" href="transaction-formats.html">Transaction Formats</a>
                </h5>
              </div><!-- /.card-header -->

              <div id="sidenav_collapse_25" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_25">
                <div class="card-body">
                  <ul class="sidebar_pagelist">
                        <li><a class="nosubcat-page" href="transaction-common-fields.html">Transaction Common Fields</a></li>
                        <li><a class="subcat-title" href="transaction-types.html">Transaction Types</a></li>

                            <li><a class="subpage" href="accountset.html">AccountSet</a></li>
                            <li><a class="subpage" href="accountdelete.html">AccountDelete</a></li>
                            <li><a class="subpage" href="checkcancel.html">CheckCancel</a></li>
                            <li><a class="subpage" href="checkcash.html">CheckCash</a></li>
                            <li><a class="subpage" href="checkcreate.html">CheckCreate</a></li>
                            <li><a class="subpage" href="depositpreauth.html">DepositPreauth</a></li>
                            <li><a class="subpage" href="escrowcancel.html">EscrowCancel</a></li>
                            <li><a class="subpage" href="escrowcreate.html">EscrowCreate</a></li>
                            <li><a class="subpage" href="escrowfinish.html">EscrowFinish</a></li>
                            <li><a class="subpage" href="offercancel.html">OfferCancel</a></li>
                            <li><a class="subpage" href="offercreate.html">OfferCreate</a></li>
                            <li><a class="subpage" href="payment.html">Payment</a></li>
                            <li><a class="subpage" href="paymentchannelclaim.html">PaymentChannelClaim</a></li>
                            <li><a class="subpage" href="paymentchannelcreate.html">PaymentChannelCreate</a></li>
                            <li><a class="subpage" href="paymentchannelfund.html">PaymentChannelFund</a></li>
                            <li><a class="subpage" href="setregularkey.html">SetRegularKey</a></li>
                            <li><a class="subpage" href="signerlistset.html">SignerListSet</a></li>
                            <li><a class="subpage" href="trustset.html">TrustSet</a></li>

                        <li><a class="subcat-title" href="pseudo-transaction-types.html">Pseudo-Transactions</a></li>

                            <li><a class="subpage" href="enableamendment.html">EnableAmendment</a></li>
                            <li><a class="subpage" href="setfee.html">SetFee</a></li>

                        <li><a class="subcat-title" href="transaction-results.html">Transaction Results</a></li>

                            <li><a class="subpage" href="tec-codes.html">tec Codes</a></li>
                            <li><a class="subpage" href="tef-codes.html">tef Codes</a></li>
                            <li><a class="subpage" href="tel-codes.html">tel Codes</a></li>
                            <li><a class="subpage" href="tem-codes.html">tem Codes</a></li>
                            <li><a class="subpage" href="ter-codes.html">ter Codes</a></li>
                            <li><a class="subpage" href="tes-success.html">tes Success</a></li>

                        <li><a class="nosubcat-page" href="transaction-metadata.html">Transaction Metadata</a></li>

                  </ul>
                </div><!-- /.card-body -->
              </div><!-- /#sidenav_collapse25 -->

            </div><!-- /.panel -->
            <div class="card">
              <div class="card-header" role="tab" id="sidenav_cat_head_26">
                <h5 class="card-title">
                    <a class="sidenav_cat_title" href="commandline-usage.html">rippled Commandline Usage Reference</a>
                </h5>
              </div><!-- /.card-header -->

              <div id="sidenav_collapse_26" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_26">
                <div class="card-body">
                  <ul class="sidebar_pagelist">

                  </ul>
                </div><!-- /.card-body -->
              </div><!-- /#sidenav_collapse26 -->

            </div><!-- /.panel -->
            <div class="card">
              <div class="card-header" role="tab" id="sidenav_cat_head_27">
                <a class="collapsed sidenav_cat_toggler" role="button" data-toggle="collapse" href="#sidenav_collapse_27" aria-expanded="true" aria-controls="sidenav_collapse_27"></a>
                <h5 class="card-title">
                    <a class="sidenav_cat_title" href="peer-port-methods.html">Peer Port Methods</a>
                </h5>
              </div><!-- /.card-header -->

              <div id="sidenav_collapse_27" class="collapse" role="tabpanel" aria-labelledby="sidenav_cat_head_27">
                <div class="card-body">
                  <ul class="sidebar_pagelist">
                        <li><a class="nosubcat-page" href="health-check.html">Health Check</a></li>
                        <li><a class="nosubcat-page" href="peer-crawler.html">Peer Crawler</a></li>
                        <li><a class="nosubcat-page" href="validator-list.html">Validator List Method</a></li>

                  </ul>
                </div><!-- /.card-body -->
              </div><!-- /#sidenav_collapse27 -->

            </div><!-- /.panel -->
    </div><!-- /#sidenav -->

</div><!-- /.tree_nav -->      </aside>
    </div><!--/.row (main layout)-->
  </div>

<footer class="xrpl-footer" role="contentinfo">
  <section class="container card-grid card-grid-Nx1">

        <div class="card">
          <div class="card-header">
            <h5><a href="overview.html">Learn</a></h5>
          </div><!--/.card-header-->
          <div class="card-body">




<div class="children-display">
  <ul>
            <li class="level-1"><a href="uses.html">Uses</a></li>

        <li class="level-1"><a href="history.html">History</a></li>

        <li class="level-1"><a href="impact.html">Impact</a></li>

        <li class="level-1"><a href="carbon-calculator.html">Carbon Calculator</a></li>



  </ul>
</div>          </div><!--/.card-body-->
        </div><!--/.card -->


        <div class="card">
          <div class="card-header">
            <h5><a href="explore.html">Explore</a></h5>
          </div><!--/.card-header-->
          <div class="card-body">




<div class="children-display">
  <ul>
            <li class="level-1"><a href="wallets.html">Wallets</a></li>

        <li class="level-1"><a href="exchanges.html">Exchanges</a></li>

        <li class="level-1"><a href="businesses.html">Businesses</a></li>



  </ul>
</div>          </div><!--/.card-body-->
        </div><!--/.card -->


        <div class="card">
          <div class="card-header">
            <h5><a href="docs.html">Build</a></h5>
          </div><!--/.card-header-->
          <div class="card-body">




<div class="children-display">
  <ul>
              <li class="level-1"><a href="concepts.html">Concepts</a></li>
          <li class="level-1"><a href="tutorials.html">Tutorials</a></li>
          <li class="level-1"><a href="references.html">References</a></li>
          <li class="level-1"><a href="dev-tools.html">Dev Tools</a></li>


  </ul>
</div>          </div><!--/.card-body-->
        </div><!--/.card -->


        <div class="card">
          <div class="card-header">
            <h5><a href="contribute.html">Contribute</a></h5>
          </div><!--/.card-header-->
          <div class="card-body">




<div class="children-display">
  <ul>
            <li class="level-1"><a href="contribute-code.html">Contribute Code to the XRP Ledger</a></li>



  </ul>
</div>          </div><!--/.card-body-->
        </div><!--/.card -->

  </section>

  <section class="container">

    <div class="absolute_bottom_footer">
      <span>&copy; XRP Ledger Project 2020</span>
      <span><a href="https://raw.githubusercontent.com/ripple/ripple-dev-portal/master/LICENSE">License</a></span>
    </div><!-- /.absolute_bottom_footer -->

  </section>
</footer>

<!-- Jump to top button -->
<a href="#main_content_wrapper" class="jump-to-top btn btn-primary" role="button" title="Jump to top of page">Top</a>
<script type="text/javascript" src="assets/js/jump-to-top.js"></script>

<!-- Non-blocking resources -->
<!-- Bootstrap JS -->
<script src="assets/vendor/bootstrap.min.js"></script>
<!-- fontawesome icons -->
<link rel="stylesheet" href="assets/vendor/fontawesome/css/font-awesome.min.css" />

<!-- Algolia DocSearch -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: '70de5b9b8ef95460f3c6e04054b325b2',
indexName: 'xrpl',
inputSelector: '#topsearchbox',
algoliaOptions: { 'facetFilters': ["lang:en"] },
debug: false
});
</script>

<script type="application/javascript">
  gtag('config', 'UA-157720658-3', {'content_group1': 'Content Docs'});
</script>
</body>
</html>